tosca_definitions_version: tosca_simple_yaml_1_3

node_types:

  ServerNode:
    derived_from: SoftwareComponent
    properties:
      notification_port:
        type: integer

  ClientNode:
    derived_from: SoftwareComponent
    requirements:
      - server:
          capability: Endpoint
          node: ServerNode 
          relationship: ConnectsTo

topology_template:          
  node_templates:
    
    my_server:
      type: ServerNode 
      properties:
        notification_port: 8000

    my_client:
      type: ClientNode
      requirements:
        - server:
            node: my_server
            relationship: my_connection

  relationship_templates:
  
    my_connection:
      type: ConnectsTo